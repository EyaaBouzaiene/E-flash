{% extends 'base.html.twig' %}

{% block content %}

	<section>
		<div class="container">
			<div class="title">
				
				<h1 class="font-weight-bold" align="center"> Stocks</h1>
			</div>

		</br>


			
				<script src="{{ asset('js/jquery.min.js') }}"></script>
				<input type="text"  class="form-control" placeholder="Look for a Stock" id="ach">
			


	
	<div class="col-lg-50">
		<div class="card">
			<div class="card-header">
				<strong class="card-title">Table de Stock</strong>
			</div>
			{% for message in app.flashes('notice') %}
				<div class="alert alert-success">
					{{ message }}
				</div>
			{% endfor %}
			<div class="card-body">

				<div class="table-responsive">

					

<a href="{{path('downloadpdf')}}">	
 <button type="button" class="btn btn-outline-info btn-icon-text" onclick="updatepartenaires">
                          Print
                          <i class="ti-printer btn-icon-append"></i>                                                                              
                        </button>
						</a>

<a href="{{path('mailstock')}}">	 
<button type="button" class="btn btn-info" >VerifStock</button>
</a>				



					<table class="table  table-hover table-bordered" id="tableau">

						<thead class="badge-info">
							<tr></tr>
							<tr>
							
 
	
								<th>Nom du Stock</th>
								<th>RÃ©ference</th>
								<th>Categorie</th>
								<th>Quantite</th>
								<th>Date</th>
								<th>Qualite</th>
								<th>Nom Partenaire</th>
                                 <th  >Modifier</th>
                                <th  >Supprimer</th>

							</tr>
						</thead>


						

							<tbody id="tableau">
							{% for compteur in affiche %}
								<tr>

									<td>
										{{compteur.nomS}}
									</td>
									<td>
										{{compteur.refS}}
									</td>
									<td>
										{{compteur.categorieS }}
									</td>
									<td>
										{{compteur.qteS}}
									</td>

									<td>
										{{compteur.dateS | date("d/m/Y") }}</td>
									<td>
										{{compteur.qualiteS}}
									</td>
									
									<td>
										{{compteur.partenaire.nomMarqueP}}
									</td>
                                    <td><a  href="{{path('updatestock',{'id':compteur.id })}}" class="btn btn-outline-info  w-100 p-2 "><i class="fa fa-pencil" aria-hidden="true"></i></a></td>
                                       <td><a   href="{{path('dellclass',{'id':compteur.id })}}" class="btn btn-outline-danger  w-100 p-2" class="btn badge-info"><i class="fa fa-trash-o" aria-hidden="true"></i></a></td>
								</tr>
							
<script>
        $(document).ready(function(){
            $('#ach').keyup(function(){
                search_table($(this).val());
            });
            function search_table(value){
                $('#tableau tbody tr ').each(function(){
                    var found = 'false';
                    $(this).each(function(){
                        if($(this).text().toLowerCase().indexOf(value.toLowerCase()) >= 0)
                        {
                            found = 'true';
                        }
                    });
                    if(found == 'true')
                    {
                        $(this).show();

                    }
                    else
                    {
                        $(this).hide();

                    }
                });
            }
        });
    </script>

						{% endfor %}
						</tbody>
					</table>

				</div>

				 
</div>
</div>


{# block stat #}

					<div class="col-lg-50">
		<div class="card">
			<div class="card-header">
				<strong class="card-title">Statistique</strong>
			</div>
						<div class="card-body">

				<div class="table-responsive">

<table class="table  table-hover table-bordered">

					</table>
					<table class="table  table-hover table-bordered">

						<thead class="badge-info">						
				</tbody>                                 
											</table>

				</div>

					<div class="container">
			<div class="Statistique">




<div id="chart" ></div>
    

<br>

            <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
            <script type="text/javascript">
            
                {{ gc_draw(piechart, 'chart') }}
            </script>



</div>
</div>
				</div>
				
			</div>
		

          
        </div>

        
            </div>



			{# BarChart #}
								<div class="col-lg-50">
		<div class="card">
			<div class="card-header">
				<strong class="card-title">Statistique</strong>
			</div>
						<div class="card-body">

				<div class="table-responsive">

<table class="table  table-hover table-bordered">

					</table>
					<table class="table  table-hover table-bordered">

						<thead class="badge-info">						
				</tbody>                                 
											</table>

				</div>

					<div class="container">
			<div class="Statistique">



  <div id="div_chart"></div>
    
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        {{ gc_draw(BarChart, 'div_chart') }}
    </script>



</div>
</div>
				</div>
				
			</div>
		

          
        </div>

        
            </div>
</div>


    </div>
</div>   
        

	<script src="https://cdn.jsdelivr.net/npm/jquery@2.2.4/dist/jquery.min.js"></script>
				<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.4/dist/umd/popper.min.js"></script>
				<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"></script>
				<script src="https://cdn.jsdelivr.net/npm/jquery-match-height@0.7.2/dist/jquery.matchHeight.min.js"></script>


{% endblock %}


