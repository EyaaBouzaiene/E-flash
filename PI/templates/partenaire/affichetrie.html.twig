{% extends 'base.html.twig' %}

{% block content %}

	<section>
		<div class="container">

			<div class="title">

				<h3 class="font-weight-bold" align="center">Partenaires</h3>
			</div>

		</br>

		<script src="{{ asset('js/jquery.min.js') }}"></script>
		<input type="text" class="form-control" placeholder="Look for a Partenaire" id="ach">

		<div class="col-lg-50">

			<div class="card">

				<div class="card-header">
					<strong class="card-title">Table de Partenaires</strong>
				</div>
				{% for message in app.flashes('notice') %}
					<div class="alert alert-success">
						{{ message }}
					</div>
				{% endfor %}
				<div class="card-body">

					<div class="table-responsive">
						<a href="{{path('downloadpdfpartenaire')}}">
							<button type="button" class="btn btn-outline-info btn-icon-text" onclick="updatepartenaires">
								Print
								<i class="ti-printer btn-icon-append"></i>
							</button>
						</a>



<a href="{{path('trip')}}">	 
<button type="button" class="btn btn-info" >TRIE par Date <i class="ti-split-v"></i></button>
</a>



<a href="{{path('mailpartenaire')}}">	 
<button type="button" class="btn btn-info" >Verif Qualite Partenaire</button>
</a>

<div class="card-header">
					<strong class="card-title"></strong>
				</div>
						<table class="table  table-hover table-bordered" id="tableau">

							<thead class="badge-info">

								<tr>


									<th>Matricule</th>
									<th>Marque</th>
									<th>Nom Partenaire
									</th>
									<th>Prenom Partenaire</th>
									<th>Mail</th>
									<th>Categorie</th>
									<th>Date Ajout</th>
									<th>Image</th>
									
									<th>Modifier</th>
									<th>Supprimer</th>

								</tr>
							</thead>

							<tbody id="tableau">
								{% for compteur in partenaire %}


									<tr>

										<td>
											{{compteur.MatriculeP}}
										</td>
										<td>
											{{compteur.nomMarqueP}}
										</td>
										<td>
											{{compteur.nomP }}
										</td>
										<td>
											{{compteur.prenomP}}
										</td>

										<td>
											{{compteur.mailP}}</td>
										<td>
											{{compteur.categorieP}}
										</td>

										<td>
											{{compteur.dateAjout | date("d/m/Y")}}
										</td>

										<td>
											<img src="{{ asset('uploads/' ~ compteur.image) }} ">
										</td>
										

										<td>
											<a href="{{path('updatepartenaires',{'id':compteur.id })}}" class="btn btn-outline-info  w-100 p-2 ">
												<i class="fa fa-pencil" aria-hidden="true"></i>
											</a>
										</td>
										<td>
											<a href="{{path('dellpartenaires',{'id':compteur.id })}}" class="btn btn-outline-danger  w-100 p-2" class="btn badge-info">
												<i class="fa fa-trash-o" aria-hidden="true"></i>
											</a>
										</td>

									</tr>


									<script>
										$(document).ready(function () {
$('#ach').keyup(function () {
search_table($(this).val());
});
function search_table(value) {
$('#tableau tbody tr ').each(function () {
var found = 'false';
$(this).each(function () {
if ($(this).text().toLowerCase().indexOf(value.toLowerCase()) >= 0) {
found = 'true';
}
});
if (found == 'true') {
$(this).show();

} else {
$(this).hide();

}
});
}
});
									</script>
								{% endfor %}
							</tbody>


						</table>
						<script src="https://cdn.jsdelivr.net/npm/jquery@2.2.4/dist/jquery.min.js"></script>
						<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.4/dist/umd/popper.min.js"></script>
						<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"></script>
						<script src="https://cdn.jsdelivr.net/npm/jquery-match-height@0.7.2/dist/jquery.matchHeight.min.js"></script>


					{% endblock %}
